<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Proyecto_Final: Grabación y Depuración</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="fiuner.png"/></td>
  <td id="projectalign">
   <div id="projectname">Proyecto_Final
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Grabación y Depuración</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md5"></a> A continuación se detallan los pasos para la grabación de la placa ESP32-C6-DevKitC-1 con un programa compilado, y para el manejo de las herramientas depuración.</p>
<ol type="1">
<li>Grabación</li>
<li>Depuración</li>
<li>Monitor Serie</li>
</ol>
<h1><a class="anchor" id="autotoc_md6"></a>
Grabación</h1>
<ol type="1">
<li><p class="startli">Conecte la placa ESP32-C6-DevKitC-1 a su computadora utilizando un cable USB-C en el conector señalado como <code>USB</code>.</p>
<p class="startli"><img src="./imágenes/flash1.png" alt="flash1" class="inline"/></p>
</li>
<li><p class="startli">Presione el botón <img src="https://raw.githubusercontent.com/microsoft/vscode-icons/2ca0f3225c1ecd16537107f60f109317fcfc3eb0/icons/dark/symbol-event.svg" alt="event" style="pointer-events: none;" class="inline"/> (<code>ESP-IDF: Flash Device</code>). La primera vez que realice la grabación le aparecerá una ventana prguntando si desea lanzar OpenOCD, presione <code>Yes</code>.</p>
<p class="startli"><img src="./imágenes/flash2.png" alt="flash2" class="inline"/></p>
</li>
<li><p class="startli">El programa comenzará con la grabación del microcontrolador. Si esta se completa correctamente, podrá observar el mensaje <code>Flashed Successfully (JTag)</code> en la pestaña <code>OUTPUT</code>.</p>
<p class="startli"><img src="./imágenes/flash3.png" alt="flash3" class="inline"/></p>
<p class="startli">Si observa la placa, también podrá observar el parpadeo del LED1.</p>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;[!WARNING] Si OpenOCD se encuentra corriendo y usted desconecta el cable USB se le mostrarán múltiples notificaciones de error. Se recomienda siempre detener OpenOCD antes de desconectar el USB. (Click en <code>❇️ ESP-IDF: OpenOCD Server (Running)</code> y luego en <code>Stop OpenOCD</code>) </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md7"></a>
Depuración</h1>
<p>El modo de Depuración (Debug) nos permite correr el código del programa de manera controlada en el microcontrolador, a la vez que se pueden observar los valores de variables y registros. Para entrar en modo Depuración se debe:</p>
<ol type="1">
<li><p class="startli">Asegúrese de que OpenOCD esté corriendo.</p>
<p class="startli"><img src="./imágenes/debug1.png" alt="debug1" class="inline"/></p>
<p class="startli">En caso contrario, inícielo presionando en <code>❌ ESP-IDF: OpenOCD Server (Stoped)</code> y luego en <code>Start OpenOCD</code>.</p>
<p class="startli"><img src="./imágenes/debug2.png" alt="debug2" class="inline"/></p>
</li>
<li><p class="startli">Cambie a la vista <code>Run and Debug</code> presionando <img src="https://raw.githubusercontent.com/microsoft/vscode-icons/2ca0f3225c1ecd16537107f60f109317fcfc3eb0/icons/dark/debug-alt.svg" alt="debug" style="pointer-events: none;" class="inline"/> y luego seleccione en el menú desplegable el proyecto sobre el cual realizar debug (en este caso <code>ESP32 OpenOCD (0_blinking)</code>).</p>
<p class="startli"><img src="./imágenes/debug3.png" alt="debug3" class="inline"/></p>
</li>
<li><p class="startli">Presione el botón <img src="https://raw.githubusercontent.com/microsoft/vscode-icons/2ca0f3225c1ecd16537107f60f109317fcfc3eb0/icons/dark/debug-start.svg" alt="debug" style="pointer-events: none;" class="inline"/> (<code>Start Debuging</code>) o <code>F5</code>. Una vez iniciado el modo debug se mostrará una nueva barra con botones para el control de la ejecución del programa.</p>
<p class="startli"><img src="./imágenes/debug4.png" alt="debug4" class="inline"/></p>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;[!WARNING] Si OpenOCD se encuentra corriendo y usted desconecta el cable USB se le mostrarán múltiples notificaciones de error. Se recomienda siempre detener OpenOCD antes de desconectar el USB. (Click en <code>❇️ ESP-IDF: OpenOCD Server (Running)</code> y luego en <code>Stop OpenOCD</code>) </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md8"></a>
Monitor Serie</h1>
<p>El <code>ESP-IDF Monitor</code> permite imprimir por pantalla mensajes enviados desde el microcontrolador, que pueden ser de utilidad para la verificación del funcionamiento de un programa. En el mismo se muestran los mensajes enviados utilizando las funciones <code>printf()</code> o <code>ESP_LOG()</code>.</p>
<ol type="1">
<li><p class="startli">Seleccione el puerto <code>COM</code> correspondiente a la placa, presionando en <img src="https://raw.githubusercontent.com/microsoft/vscode-icons/2ca0f3225c1ecd16537107f60f109317fcfc3eb0/icons/dark/plug.svg" alt="plug" style="pointer-events: none;" class="inline"/><code>COM14</code> y luego en el número de puerto correspondiente.</p>
<p class="startli"><img src="./imágenes/monitor2.png" alt="monitor2" class="inline"/></p>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;[!TIP] El número del puerto <code>COM</code> es asignado por su sistema operativo al momento de conectar la placa por primera vez, por lo tanto puede variar de un dispositivo a otro. </p>
</blockquote>
<ol type="1">
<li><p class="startli">Presione el botón <img src="https://raw.githubusercontent.com/microsoft/vscode-icons/2ca0f3225c1ecd16537107f60f109317fcfc3eb0/icons/dark/vm.svg" alt="monitor" style="pointer-events: none;" class="inline"/> (<code>ESP-IDF: Monitor Device</code>). Se abrirá un nuevo terminal llamado <code>ESP-IDF monitor</code> donde se mostrarán los mensajes enviados.</p>
<p class="startli"><img src="./imágenes/monitor3.png" alt="monitor3" class="inline"/></p>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;[!IMPORTANT] Al ejecutar el <code>Monitor</code> el microcontrolador se reinicia, por lo tanto los mensajes mostrados parten desde el inicio de la ejecución del programa grabado. </p>
</blockquote>
<ol type="1">
<li><p class="startli">También se puede modificar la configuración del puerto COM desde el archivo de configuración del workspace. Esto es útil cuando se va a trabajar durante todo el cursado con una misma PC (de modo contrario hay que modificar el puerto COM en cada proyecto). Para esto se debe abrir el archivo <code>EProgramable_C6.code-workspace</code> ubicado en <code>C:/Repositorios/ElectronicaProgramable_ESP32/firmware/</code> y modificar la línea <code>"idf.portWin": "COM14",</code> colocando el número de puerto COM correspondiente.</p>
<p class="startli"><img src="./imágenes/monitor4.png" alt="monitor4" class="inline"/></p>
</li>
</ol>
<p>Ahora ya puede empezar a trabajar sobre un nuevo proyecto, siguiendo el instructivo <a class="el" href="md__d_1_2_w_i_n10_2_facu_2_electronica___programable_2_perez_galluccio-1_c-2024_2documentaci_x_c3_x_b3n_2proyecto__nuevo.html">Proyecto Nuevo</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
